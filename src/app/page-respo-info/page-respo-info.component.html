<nav class="navbar mynav  navbar-expand-sm  navbar-dark navbar-expand-lg navbar-light"  >
  <img src="assets/images/bmci.png" class="navbar-brand my-image">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse  navbar-collapse " id="collapsibleNavbar">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item" >
        <a class="nav-link" routerLink="tableauBordRespoInfo">TableauBord</a>
      </li>
      <li class="nav-item dropdown" >
        <a class="nav-link dropdown-toggle"  role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Gestion Services</a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" routerLink="interventionsencours">Interventions En Cours</a>
          <a class="dropdown-item" routerLink="interventionsresolus">Interventions  Résolus</a>
          <a class="dropdown-item" routerLink="interventionsnonresolu">Interventions  Non  Résolus</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item"  routerLink="consulterHistoriquesInfo">ConsulterHistorique</a>
        </div>
      </li>
      <!--<li class="nav-item" >
        <a class="nav-link" href="#">ServicesEnCours</a>
      </li>-->

      <!-- <li class="nav-item dropdown" *ngIf="authService.isRespoInfo() ">
         <a class="nav-link dropdown-toggle"  role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" (click)="NouveauxDemande()">
           Notification
         </a>

         <div class="dropdown-menu" aria-labelledby="navbarDropdown" *ngIf="authService.isrespo==true ">
           <a class="dropdown-item"  *ngFor="let n of nouveauxDemandes"  (click)="Consulter(n.id_Demande)">Message {{n.panne.etatPanne}} de <span>{{n.utilisateurs.username}}</span> de  {{n.utilisateurs.agence.nomAgence}} <br>
             Adresse :{{n.utilisateurs.agence.adresse.wilaye}},{{n.utilisateurs.agence.adresse.aommune}},{{n.utilisateurs.agence.adresse.ville}},{{n.utilisateurs.agence.adresse.rue}}
           </a>

         </div>
       </li>-->
    </ul>

  </div>





  <div class="top-nav notification-row" >

    <!-- notificatoin dropdown start-->
    <ul class="nav pull-right top-menu" >

      <li class="dropdown">
        <a data-toggle="dropdown" class="dropdown-toggle nav-link" href="#">
          <!--<span class="profile-ava">
            <img alt="" src="assets/menu/img/icons/bg-1.jpg">
         </span>-->
          <span class="user22"><i class="icon_profile"></i>{{auth.username}}</span>
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu extended logout">
          <div class="log-arrow-up"></div>

          <li>
            <a class="nav" (click)="logout()"><i class="icon_key_alt"></i> Log Out</a>
          </li>

          <li>
            <i class="icon_key_alt"></i>
          </li>
        </ul>
      </li>
      <!-- user login dropdown end -->
    </ul>
    <!-- notificatoin dropdown end-->

    <ul class="nav pull-right top-menu me" >
      <li id="mail_notificatoin_bar" class="dropdown">
        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
          <i class="fa fa-bell-o" aria-hidden="true"></i>
          <span class="badge bg-important mv">{{webSocket.nbredemessage}}</span>
        </a>
        <ul class="dropdown-menu extended inbox" >
          <div class="notify-arrow notify-arrow-blue"></div>
          <li>
            <p class="blue">vous avez {{webSocket.nbredemessage}} nouveaux messages</p>
          </li>
          <li *ngFor="let n of webSocket.nouveauxDemandes">
            <a (click)="Consulter(n.id_Demande,webSocket.nouveauxDemandes.indexOf(n))">
              <span class="label label-primary"><i class="icon_profile"></i></span>
              Demande  de <span>{{n.utilisateurs.username}}</span> de  {{n.utilisateurs.agence.nomAgence}}
              <span class="small italic pull-right">5min</span>
            </a>
          </li>




        </ul>
    </ul>
  </div>

</nav>



<!--
<footer class="page-footer font-small blue" *ngIf="!authService.isAdmin()">


  <div class="footer-copyright text-center py-3">©  Tous droits réservés BMCI {{date | date :'yyyy'}}.

  </div>


</footer>
-->
<!--

<div class="container-fluid">
  <div class="container md  butt">
    <div class="row ">
      <div class="col-md-8 ">
      -->
       <!-- <div class="card  " *ngIf="affectaionIntervennat==1">
          <div class="card-header">
          Resultat   affection Demande
          </div>
          <div class="card-body">

            <div class="container "  >
              <div class="alert alert-success alert-dismissible fade show" role="alert">
                Votre demande est envoyer avec <strong>succès!</strong>.
                <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="fermerAlert()" >
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            </div>
          </div>
        </div>-->

<!--
        <div class="card " *ngIf="consulter==1 && demande!=undefined">
          <div class="card-header">
            info Demande
          </div>
          <div class="card-body">

            <div class="container "  >
              <table class="table table-bordered " >
                <tr ><td>Etat Demande:</td><td>{{demande.etat_Demande}}</td></tr>
                <tr ><td>Etat panne :</td><td>{{demande.panne.etatPanne}}</td></tr>

                <tr ><td>description:</td><td>{{demande.panne.description}}</td></tr>
                <tr><td>image:</td><td><img [src]="photos"  class="img-thumbnail" /></td></tr>
              </table>
              <div *ngIf="avantEspace==1">
                <div class="alert alert-danger alert-dismissible fade show" role="alert" *ngIf="intervenantLibre.length==0">
                   Aucun intervenant  libre <strong>veuillez patienter!</strong>.
                  <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="femerAvecAttend(demande.id_Demande)">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                   <form #fa="ngForm" (ngSubmit)="EnvoyerIntervention(fa.value)" >

                     <div class="form-group row" *ngIf="intervenantLibre.length>0">
                       <label  class="col-sm-2 col-form-label">intervenant</label>
                       <div class="col-sm-10">
                         <select  class="custom-select" ngModel="" name="intervenant" required [(ngModel)]="modelDemandeIntervenant.intervenant">

                           <option  *ngFor="let n of intervenantLibre"  [value]="n">{{n}}</option>

                         </select> </div>
                     </div>


                      <div class="form-group row" *ngIf="intervenantLibre.length>0">
                        <div class="col-sm-10">
                          <button type="submit" [disabled]="!fa.valid" class="btn btn-success" >Envoyer</button>
                        </div>
                      </div>
                    </form>
              </div>


               <div class="btn-group" *ngIf="avantEspace==0">
                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                  Accepter
                </button>
                <div class="dropdown-menu">
                  <a class="dropdown-item" (click)="espaceRespp(demande.id_Demande)">via espce</a>
                  <a class="dropdown-item" (click)="espaceInterRespo(demande.id_Demande)">Via Intervenant</a>
                </div>


                  <button type="button" class="btn badge-danger  btn-space" (click)="DemandeRejeter(demande.id_Demande)" >Refuser</button>

              </div>-->

              <!--          <div class=container>
                           <div class="dropdown">
                             <button class="btn btn-success" data-toggle="dropdown" >Accepter</button>
                             <ul class="dropdown-menu" >
                               <li  class="dropmenu-item"><a>Intervenir vous meme</a></li>
                               <li class="dropmenu-item"><a>Affecter un  intervenant</a></li>
                             </ul>

                             <button class="btn badge-danger" (click)="DemandeRejeter(demande.id_Demande)"  >refuser</button>
                           </div>
           -->

<!--
            </div>

          </div>
        </div>-->

   <!--   </div>

    </div>
  </div>-->
<!--<div class="">
  <div class="row " *ngIf="consulter==0 && espaceinter==1">
    <div class="col-md-4 portlets">

      <div class="panel panel-default">
        <div class="panel-heading">
          <div class="pull-left">Message</div>
          <div class="widget-icons pull-right">
 
            <a (click)="fermerEspace()" class="wclose"><i class="fa fa-times"></i></a>

          </div>
          <div class="clearfix"></div>
        </div>

        <div class="panel-body" >
      
          <div class="padd sscroll">

            <ul class="chats">

          
              <li class="by-me">
              
                <div class="avatar pull-left">
                  <i class="icon_profile"></i>
              </div>
                  <div *ngIf="webSocket.messagesNew!=undefined">
                <div class="chat-content" *ngFor="let msg of webSocket.messagesNew">
                <div class="chat-meta">{{msg.nom}}<span class="pull-right">{{msg.date}}</span></div>
                  {{msg.message}}.
                  <div class="clearfix"></div>

                </div>

                  </div>
                <br>
              </li>
            </ul>

          </div>

          <div class="widget-foot">

            <form class="form-inline"  #messages="ngForm" (ngSubmit)="EnvoyerMessage(messages.value)">
              <div class="form-group">
                <input type="text" class="form-control" placeholder="Taper votre message..." ngModel=""  name="message"  [(ngModel)]="envoyerMessage.message">
              </div>
              <button type="submit" [disabled]="!messages.valid" class="btn btn-info">Envoyer</button>
            </form>


          </div>
        </div>


      </div>
    </div>
  </div>
</div>-->
<!--
  <div class="row">
    <div class="col-sm-11">
  <div class="container-fluid" *ngIf="encours==1">

    <div class="card foot">
      <div class="card-header">
        Service EnCours
        <div class="widget-icons pull-right">

          <a (click)="fermertabrespo()" class="wclose"><i class="fa fa-times"></i></a>

        </div>
      </div>
      <div class="card-body">
        <div class="col-sm-11">
        <div class="row"  *ngIf="webSocket.messageEnCours!=undefined" >
          <div class="col-sm-12">
            <section class="panel">
              <div class="row">
                <table class="table table-striped table-advance table-hover">
                <tbody>
                <tr>
                  <th><i class="fa fa-desktop"></i> Demande</th>
                  <th><i class="icon_pin_alt"></i> Agence</th>
                  <th><i class="icon_calendar"></i> Date</th>
                  <th> <i class="icon_profile"></i> nomcomplet</th>
                   <th><i class="icon_mail_alt"></i> Email </th>
                  <th><i class="icon_mobile"></i> panne</th>
                  <th><i class="icon_cogs"></i> typepanne</th>
                  <th><i class="icon_piechart"></i> Etatpanne</th>
                  <th> <i class="icon_genius"></i> Espace</th>
                </tr>

                <tr  *ngFor="let msn of webSocket.messageEnCours">



                  <td>{{msn.id_Demande}}</td>
                  <td>{{msn.utilisateurs.agence.nomAgence}}</td>
                  <td>{{msn.date_Demande}}</td>
                  <td>{{msn.utilisateurs.nom}}</td>
                  <td>{{msn.utilisateurs.email}}</td>
                  <td>{{msn.panne.categorie.nom}}</td>
                  <td *ngIf="msn.panne.categorie.parent!=undefined">{{msn.panne.categorie.parent.nom}}</td>
                  <td *ngIf="msn.panne.categorie.parent==undefined">{{msn.panne.categorie.nom}}</td>

                  <td>{{msn.panne.etatPanne}}</td>
                  <td>
                    <div class="dropdown">
                      <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="icon-task-l"></i>  Espaces</a>

                        <div class="dropdown-menu" aria-labelledby="navbarDropdown" *ngFor="let esp of  msn.interventions; let i = index">
                          <a class="dropdown-item" (click)="consulterEspace(esp.espace)">Consulter Espace {{i+1}}</a>
                        </div>
       
                    </div>

                  </td>

                </tr>
                </tbody>
              </table>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>


</div>
      </div>
</div>
  </div>-->
<!--</div>-->
<!--
  <div class="row mvms" *ngIf="espacevue==1" >
    <div class="col-md-4 portlets">
      <div class="panel panel-default">
        <div class="panel-heading">
          <div class="pull-left">Message</div>
          <div class="widget-icons pull-right">
           <a (click)="fermerEspace()" class="wclose"><i class="fa fa-times"></i></a>
          </div>
          <div class="clearfix"></div>
        </div>

        <div class="panel-body" >

          <div class="padd sscroll">

            <ul class="chats" *ngFor="let mse of webSocket.messagesNew" >


              <li class="by-me">
                <div class="avatar pull-left">
                  <i class="icon_profile"></i>

                </div>
               <div >
                  <div class="chat-content mes" >
                    <div class="chat-meta">{{mse.nom}}<span class="pull-right">{{mse.date}}</span></div>
                    {{mse.message}}.

                    <div class="clearfix"></div>

                  </div>


                </div>

              </li>
            </ul>

          </div>

          <div class="widget-foot"   *ngIf="webSocket.espaceDemande.etatEspace!='Fermer'">

            <form class="form-inline"  #messagesp="ngForm" (ngSubmit)="EnvoyerMessages(messagesp.value)">
              <div class="form-group">
                <input type="text" class="form-control" placeholder="Taper votre message..." ngModel=""  name="message"  [(ngModel)]="envoyerMessage.message">
              </div>
              <button type="submit" [disabled]="!messagesp.valid" class="btn btn-info">Envoyer</button>
            </form>

          </div>
        </div>
      </div>
    </div>
  </div>
-->


<!--
<div class="container-fluid" *ngIf="tabSr==1">
  <div class="row mvms">
    <div class="col-sm-12">
      <div class="container-fluid" *ngIf="serviceResolu!=undefined && tabSr==1">

        <div class="card foot">
          <div class="card-header">
            Services Resolus
            <div class="widget-icons pull-right">
      
              <a (click)="fermertabRs()" class="wclose"><i class="fa fa-times"></i></a>

            </div>
          </div>
          <div class="card-body">
            <div class="row "   >
              <div class="col-sm-12">
                <section class="panel">
                  <div class="row">
                    <table class="table table-striped table-advance table-hover">
                      <tbody>
                      <tr>
                        <th><i class="fa fa-desktop"></i> Demande</th>
                        <th><i class="icon_pin_alt"></i> Agence</th>
                        <th><i class="icon_calendar"></i> Date</th>
                        <th> <i class="icon_profile"></i> nomcomplet</th>
                        <th><i class="icon_mail_alt"></i> Email </th>
                        <th><i class="icon_mobile"></i> panne</th>
                        <th><i class="icon_cogs"></i> typepanne</th>
                        <th><i class="icon_piechart"></i> Etatpanne</th>
                        <th> <i class="icon_genius"></i> Espace</th>
                      </tr>

                      <tr  *ngFor="let msn of serviceResolu">



                        <td>{{msn.id_Demande}}</td>
                        <td>{{msn.utilisateurs.agence.nomAgence}}</td>
                        <td>{{msn.date_Demande}}</td>
                        <td>{{msn.utilisateurs.nom}}</td>
                        <td>{{msn.utilisateurs.email}}</td>
                        <td>{{msn.panne.categorie.nom}}</td>
                        <td *ngIf="msn.panne.categorie.parent!=undefined">{{msn.panne.categorie.parent.nom}}</td>
                        <td *ngIf="msn.panne.categorie.parent==undefined">{{msn.panne.categorie.nom}}</td>

                        <td>{{msn.panne.etatPanne}}</td>
                        <td>
                          <div class="dropdown">
                            <a class="nav-link dropdown-toggle"  role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                              <i class="icon-task-l"></i>  Espaces</a>

                            <div class="dropdown-menu" aria-labelledby="navbarDropdown" *ngFor="let esp of  msn.interventions; let i = index">
                              <a class="dropdown-item" (click)="consulterEspace(esp.espace)">Consulter Espace {{i+1}}</a>
                            </div>
                        
                          </div>

                        </td>

                      </tr>
                      </tbody>
                    </table>
                    <br>
                    <br>
                    <ul class="nav nav-pills dc">
                      <li *ngFor='let p of totalPageSR;let i=index' class="nav-item" >
                        <a (click)="setpage(i,$event)" class="nav-link"
                           [ngClass]="{'active':i==pagesr}">
                          {{i+1}}
                        </a>
                      </li>
                    </ul>
                  </div>
                </section>
              </div>
            </div>
          </div>
        </div>


      </div>
    </div>
  </div>


</div>-->

<!--

<div class="tb" >
  <div class="container-fluid " >

    <div class="row">
      <div class="col-md-9">
        <div class="card " >
          <div class="card-header">
            Tableau de bord
            <div class="widget-icons pull-right">
          
              <a (click)="fermertabBord()" class="wclose"><i class="fa fa-times"></i></a>

            </div>
          </div>
          <div class="card-body" >
            <canvas  id="doughnut-chart" width="800" height="450"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>


</div>-->
<app-my-loader class="mt-4"></app-my-loader>
<router-outlet></router-outlet>

